# 设计文档模板

> 复制此模板到 `.sisyphus/plans/{feature-name}/design-doc.md`，填写每个章节。

---

# {功能名称} 设计文档

**状态：** 草稿 | 审阅中 | 已批准 | 已拒绝
**作者：** {name}
**日期：** {YYYY-MM-DD}

## 背景

现在存在什么问题？为什么现在需要解决？

- 描述当前状况
- 什么痛点或缺口触发了这项工作
- 关联的 issue / 讨论链接（如有）

## 目标

成功是什么样的？

- 目标 1
- 目标 2

## 非目标

什么是明确不做的？这和目标同等重要。

- 非目标 1（以及为什么排除）
- 非目标 2

## 设计

### 系统上下文

这个功能如何融入现有系统？谁/什么和它交互？

> 如有帮助，画一个上下文图（C4 Level 1）。

### 核心设计

实际的解决方案。描述：

- 关键组件及其职责
- 数据模型变更（如有）
- 接口契约（概要级别，细节在 API 契约阶段定义）
- 主要用例的数据流

### 状态管理

如果功能涉及状态转换：

- 定义状态和转换
- 什么触发每个转换
- 每个状态下失败时会发生什么

## 备选方案

| 方案 | 优点 | 缺点 | 为什么不选 |
|------|------|------|-----------|
| 方案 A | ... | ... | ... |
| 方案 B | ... | ... | ... |

## 风险和权衡

- 风险 1：{描述} → 缓解措施：{如何应对}
- 权衡：我们选择了 X 而不是 Y，因为 {原因}

## 待解决问题

实现前或实现中需要回答的问题：

- [ ] 问题 1
- [ ] 问题 2
