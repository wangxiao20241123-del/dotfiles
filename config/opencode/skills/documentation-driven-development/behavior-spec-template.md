# 行为规格模板

> 复制此模板到 `.sisyphus/plans/{feature-name}/behavior-spec.md`，为每个接口填写行为描述。

---

# {功能名称} 行为规格

**关联设计文档：** `.sisyphus/plans/{feature-name}/design-doc.md`
**关联 API 契约：** {契约文件路径}

## 编写规则

- 每条行为用 **Given-When-Then** 格式描述
- 每条行为对应**恰好一个**测试用例
- 行为编号格式：`{接口缩写}-{序号}`（如 `CW-01`）
- 覆盖四类行为：正常路径、错误/边界、幂等性、并发

---

## {接口名称 1}

### 正常路径

**{XX}-01: {行为简述}**
- **Given:** {前置条件}
- **When:** {操作}
- **Then:** {期望结果}

**{XX}-02: {行为简述}**
- **Given:** {前置条件}
- **When:** {操作}
- **Then:** {期望结果}

### 错误 / 边界条件

**{XX}-10: {行为简述}**
- **Given:** {触发错误的前置条件}
- **When:** {操作}
- **Then:** {期望的错误响应，包含错误类型/错误码}

### 幂等性（如适用）

**{XX}-20: {行为简述}**
- **Given:** {资源已存在 / 操作已执行过}
- **When:** {重复执行同一操作}
- **Then:** {期望结果：成功且无副作用 / 返回已存在错误}

### 并发（如适用）

**{XX}-30: {行为简述}**
- **Given:** {并发前置条件}
- **When:** {多个并发操作}
- **Then:** {期望结果：只有一个成功 / 乐观锁冲突}

---

## {接口名称 2}

（按同样结构继续...）

---

## 行为统计

| 接口 | 正常路径 | 错误/边界 | 幂等性 | 并发 | 合计 |
|------|---------|----------|--------|------|------|
| {接口 1} | N | N | N | N | N |
| {接口 2} | N | N | N | N | N |
| **总计** | | | | | **N** |

> 总计数 = 未来的测试用例总数。
